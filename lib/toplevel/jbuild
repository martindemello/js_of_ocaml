(library
 ((name js_of_ocaml_toplevel)
  (public_name js_of_ocaml.toplevel)
  (libraries (compiler-libs.bytecomp js_of_ocaml js_of_ocaml_compiler))
  (modules (:standard \ jsooTopError.cppo))
  (js_of_ocaml ())
  (preprocess (pps (ppx_js_driver)))))


(rule
 ((targets (jsooTopError.ml))
  (deps (jsooTopError.cppo.ml))
  (action "cppo -V OCAML:${ocaml_version} jsooTopError.cppo.ml -o jsooTopError.ml")
  ))
